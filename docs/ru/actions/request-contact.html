<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RequestContact - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Scenarium</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">
        <h1>RequestContact</h1>
        
        <p><strong>–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è:</strong> <code>RequestContact</code></p>
        <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º" –≤ Telegram.</p>

        <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
        <table>
            <thead>
                <tr>
                    <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                    <th>–¢–∏–ø</th>
                    <th>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π</th>
                    <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>message</code></td>
                    <td>string</td>
                    <td>–î–∞</td>
                    <td>–°–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞</td>
                </tr>
                <tr>
                    <td><code>onSuccess</code></td>
                    <td>Action | Action[]</td>
                    <td>–ù–µ—Ç</td>
                    <td>–î–µ–π—Å—Ç–≤–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞</td>
                </tr>
                <tr>
                    <td><code>onFailure</code></td>
                    <td>Action | Action[]</td>
                    <td>–ù–µ—Ç</td>
                    <td>–î–µ–π—Å—Ç–≤–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</td>
                </tr>
            </tbody>
        </table>

        <h2>–ö–æ–Ω—Ç–µ–∫—Å—Ç</h2>
        <p>–í –∫–æ–ª–ª–±–µ–∫–∞—Ö <code>onSuccess</code> –∏ <code>onFailure</code> –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</p>
        
        <h3>onSuccess –∫–æ–Ω—Ç–µ–∫—Å—Ç</h3>
        <table>
            <thead>
                <tr>
                    <th>–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è</th>
                    <th>–¢–∏–ø</th>
                    <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>contact</code></td>
                    <td>object</td>
                    <td>–û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞</td>
                </tr>
                <tr>
                    <td><code>contact.phone_number</code></td>
                    <td>string</td>
                    <td>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</td>
                </tr>
                <tr>
                    <td><code>contact.first_name</code></td>
                    <td>string</td>
                    <td>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ)</td>
                </tr>
                <tr>
                    <td><code>contact.last_name</code></td>
                    <td>string</td>
                    <td>–§–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)</td>
                </tr>
                <tr>
                    <td><code>contact.user_id</code></td>
                    <td>number</td>
                    <td>ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram</td>
                </tr>
                <tr>
                    <td><code>phone_number</code></td>
                    <td>string</td>
                    <td>–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞</td>
                </tr>
                <tr>
                    <td><code>first_name</code></td>
                    <td>string</td>
                    <td>–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏</td>
                </tr>
                <tr>
                    <td><code>last_name</code></td>
                    <td>string</td>
                    <td>–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–º–∏–ª–∏–∏</td>
                </tr>
            </tbody>
        </table>

        <h2>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>

        <h3>–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞</h3>
        <pre><code>{
  "action": "RequestContact",
  "message": "–î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
}</code></pre>

        <h3>–ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —É—Å–ø–µ—Ö–∞</h3>
        <pre><code>{
  "action": "RequestContact",
  "message": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏",
  "onSuccess": {
    "action": "SendMessage",
    "message": "–°–ø–∞—Å–∏–±–æ! –í–∞—à –Ω–æ–º–µ—Ä {{phone_number}} —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω."
  }
}</code></pre>

        <h3>–ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—Ç–∫–∞–∑–∞</h3>
        <pre><code>{
  "action": "RequestContact",
  "message": "–î–ª—è —É—á–∞—Å—Ç–∏—è –≤ –∫–æ–Ω–∫—É—Ä—Å–µ –Ω—É–∂–µ–Ω –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
  "onSuccess": [
    {
      "action": "SendMessage",
      "message": "–û—Ç–ª–∏—á–Ω–æ! –ù–æ–º–µ—Ä {{phone_number}} —Å–æ—Ö—Ä–∞–Ω–µ–Ω."
    },
    {
      "action": "RequestApi",
      "url": "https://api.example.com/update-phone",
      "method": "POST",
      "body": {
        "tg_chat_id": "{{user.tg_chat_id}}",
        "phone": "{{phone_number}}",
        "key": "{{env.ADMIN_KEY}}"
      }
    }
  ],
  "onFailure": {
    "action": "SendMessage",
    "message": "–ë–µ–∑ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É."
  }
}</code></pre>

        <h3>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–∞ –≤ API –∑–∞–ø—Ä–æ—Å–µ</h3>
        <pre><code>{
  "action": "RequestContact",
  "message": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∞–∫–∫–∞—É–Ω—Ç–∞",
  "onSuccess": {
    "action": "RequestApi",
    "url": "{{env.API_URL}}/users/updatePhone",
    "method": "PUT",
    "headers": {
      "Content-Type": "application/json"
    },
    "body": {
      "tg_chat_id": "{{user.tg_chat_id}}",
      "phone": "{{contact.phone_number}}",
      "key": "{{env.ADMIN_APP_KEY_1}}"
    },
    "onSuccess": {
      "action": "SendMessage",
      "message": "–ù–æ–º–µ—Ä {{contact.phone_number}} —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∞–∫–∫–∞—É–Ω—Ç—É!"
    },
    "onFailure": {
      "action": "SendMessage",
      "message": "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–æ–º–µ—Ä–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑."
    }
  }
}</code></pre>

        <h2>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h2>
        <ul>
            <li>–î–µ–π—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º" –≤ Telegram</li>
            <li>–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ –∫–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è</li>
            <li>–î–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö</li>
            <li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</li>
            <li>–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–¥–∏–Ω–æ—á–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, —Ç–∞–∫ –∏ –º–∞—Å—Å–∏–≤ –¥–µ–π—Å—Ç–≤–∏–π –≤ –∫–æ–ª–ª–±–µ–∫–∞—Ö</li>
        </ul>

        <h2>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
        <ul>
            <li>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
            <li>–î–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è</li>
            <li>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞</li>
        </ul>

        <h2>–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
        <ul>
            <li><a href="send-message.html">SendMessage</a> - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π</li>
            <li><a href="request-api.html">RequestApi</a> - –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤</li>
            <li><a href="request-input.html">RequestInput</a> - –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞</li>
        </ul>
    </div>
</body>
</html>
