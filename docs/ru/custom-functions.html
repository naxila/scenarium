<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Scenarium</title>
</head>
<body>
    <div class="main-content">
        <div class="content">
            <section class="section">
                <h1>üîß –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h1>
                <p class="lead">–£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.</p>
                
                <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?</h2>
                <p>–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±—ä–µ–∫—Ç–Ω–æ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ —Ñ—É–Ω–∫—Ü–∏–π.</p>
                
                <h2>–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏</h2>
                <p>–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:</p>
                
                <div class="code-block">
                    <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏</h3>
                    <pre><code class="language-javascript">class MyCustomFunction {
  get functionName() { return 'MyFunction'; }

  async execute(params, context) {
    const interpolationContext = context.interpolationContext;
    
    if (!interpolationContext) {
      throw new Error('MyCustomFunction: interpolationContext is required');
    }
    
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–¥–µ—Å—å
    return result;
  }
}

module.exports = { MyCustomFunction };</code></pre>
                </div>
                
                <h2>–ü—Ä–∏–º–µ—Ä: –°—Ç—Ä–æ–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h2>
                <div class="example-card">
                    <h3>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π</h3>
                    <pre><code class="language-javascript">const { InterpolationSystem } = require('scenarium');

class StringFunction {
  get functionName() { return 'String'; }

  async execute(params, context) {
    const interpolationContext = context.interpolationContext;
    
    if (!interpolationContext) {
      throw new Error('StringFunction: interpolationContext is required');
    }
    
    const operation = InterpolationSystem.interpolate(params.operation, interpolationContext);
    const input = InterpolationSystem.interpolate(params.input, interpolationContext);
    
    switch (operation) {
      case 'uppercase':
        return String(input).toUpperCase();
      case 'lowercase':
        return String(input).toLowerCase();
      case 'reverse':
        return String(input).split('').reverse().join('');
      case 'length':
        return String(input).length;
      default:
        throw new Error(`Unknown string operation: ${operation}`);
    }
  }
}

module.exports = { StringFunction };</code></pre>
                </div>
                
                <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π</h2>
                <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>RegistryManager</code> –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–∞—à–∏—Ö –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:</p>
                
                <div class="code-block">
                    <h3>–ü—Ä–∏–º–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h3>
                    <pre><code class="language-javascript">const { RegistryManager } = require('scenarium');
const { StringFunction } = require('./functions/StringFunction');

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–∞—Å—Ç–æ–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
RegistryManager.registerFunctions({
  'String': new StringFunction()
}, {
  overwrite: true,
  verbose: true
});</code></pre>
                </div>
                
                <h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö</h2>
                <p>–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à—É –∫–∞—Å—Ç–æ–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ JSON —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö:</p>
                
                <div class="example-card">
                    <h3>–°—Ü–µ–Ω–∞—Ä–∏–π —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π</h3>
                    <pre><code class="language-json">{
  "action": "SendMessage",
  "text": "‚Ä¢ uppercase('hello') = {{function: {String: {operation: 'uppercase', input: 'hello'}}}}"
}</code></pre>
                </div>
                
                <div class="example-card">
                    <h3>–ü—Ä–∏–º–µ—Ä—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π</h3>
                    <pre><code class="language-json">{
  "action": "SendMessage",
  "text": "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π:\n‚Ä¢ uppercase('hello') = {{function: {String: {operation: 'uppercase', input: 'hello'}}}}\n‚Ä¢ length('test') = {{function: {String: {operation: 'length', input: 'test'}}}}\n‚Ä¢ reverse('12345') = {{function: {String: {operation: 'reverse', input: '12345'}}}}"
}</code></pre>
                </div>
                
                <h2>–ü—Ä–∏–º–µ—Ä: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</h2>
                <div class="example-card">
                    <h3>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π</h3>
                    <pre><code class="language-javascript">const { InterpolationSystem } = require('scenarium');

class MathFunction {
  get functionName() { return 'Math'; }

  async execute(params, context) {
    const interpolationContext = context.interpolationContext;
    
    if (!interpolationContext) {
      throw new Error('MathFunction: interpolationContext is required');
    }
    
    const operation = InterpolationSystem.interpolate(params.operation, interpolationContext);
    const values = InterpolationSystem.interpolate(params.values, interpolationContext);
    
    switch (operation) {
      case 'sum':
        if (!Array.isArray(values)) throw new Error('MathFunction: sum operation requires an array of values');
        return values.reduce((acc, val) => acc + parseFloat(val), 0);
      case 'max':
        if (!Array.isArray(values)) throw new Error('MathFunction: max operation requires an array of values');
        return Math.max(...values.map(parseFloat));
      case 'min':
        if (!Array.isArray(values)) throw new Error('MathFunction: min operation requires an array of values');
        return Math.min(...values.map(parseFloat));
      default:
        throw new Error(`Unknown math operation: ${operation}`);
    }
  }
}

module.exports = { MathFunction };</code></pre>
                </div>
                
                <h2>–î–µ–º–æ –ø—Ä–æ–µ–∫—Ç</h2>
                <p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä –≤ –¥–µ–º–æ –ø—Ä–æ–µ–∫—Ç–µ <code>custom-actions-functions</code>:</p>
                <ul>
                    <li><strong>StringFunction</strong> - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏</li>
                    <li><strong>MathFunction</strong> - –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</li>
                    <li><strong>DateFunction</strong> - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º</li>
                </ul>
                <p>–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–º–æ: <code>cd examples/custom-actions-functions && npm install && node index.js</code></p>
                
                <h2>–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</h2>
                <ul>
                    <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ, –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è –≤–∞—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π</li>
                    <li>–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –Ω–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</li>
                    <li>–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –¥–µ–ª–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —á–∏—Å—Ç—ã–º–∏ (–±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤)</li>
                    <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö</li>
                    <li>–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å <code>interpolationContext</code></li>
                    <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>InterpolationSystem.interpolate()</code> –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</li>
                </ul>
            </section>
        </div>
    </div>
</body>
</html>
