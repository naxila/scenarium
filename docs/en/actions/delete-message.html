<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeleteMessage - Scenarium - Telegram Bot Constructor</title>
</head>
<body>
    <div class="main-content">
        <div class="content">

                <section class="section">
                    <h1>üóëÔ∏è DeleteMessage</h1>
                    <p class="lead">Delete message with function support and error handling.</p>
                    
                    <div class="action-info">
                        <div class="info-card">
                            <h3>üìã Description</h3>
                            <p>DeleteMessage is an action for deleting an existing message. Supports functions for determining message ID and error handling during deletion.</p>
                        </div>
                        
                        <div class="info-card">
                            <h3>üéØ Purpose</h3>
                            <ul>
                                <li>Delete messages</li>
                                <li>Clear interface</li>
                                <li>Remove outdated information</li>
                                <li>Manage message history</li>
                            </ul>
                        </div>
                    </div>

                    <h2>‚öôÔ∏è Parameters</h2>
                    <div class="params-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Required</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>messageId</code></td>
                                    <td>string | function</td>
                                    <td>‚ùå</td>
                                    <td>Message ID to delete (default: last message)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h2>üí° Usage Examples</h2>
                    
                    <div class="example-card">
                        <h3>Delete last message</h3>
                        <pre><code class="language-json">{
  "action": "DeleteMessage"
}</code></pre>
                    </div>

                    <div class="example-card">
                        <h3>Delete specific message</h3>
                        <pre><code class="language-json">{
  "action": "DeleteMessage",
  "messageId": "{{messageId}}"
}</code></pre>
                    </div>

                    <div class="example-card">
                        <h3>Delete with function</h3>
                        <pre><code class="language-json">{
  "action": "DeleteMessage",
  "messageId": {
    "function": "ReadStorage",
    "key": "tempMessageId",
    "fallbackValue": "{{lastMessageId}}"
  }
}</code></pre>
                    </div>

                    <div class="example-card">
                        <h3>Delete with notification</h3>
                        <pre><code class="language-json">{
  "action": "DeleteMessage"
},
{
  "action": "SendMessage",
  "text": "Message deleted"
}</code></pre>
                    </div>

                    <h2>üîß How it works</h2>
                    <div class="info-card">
                        <h3>Message ID determination</h3>
                        <p>The system determines Message ID in the following order:</p>
                        <ul>
                            <li>If <code>messageId</code> is specified - uses it</li>
                            <li>If <code>messageId</code> is a function - executes it</li>
                            <li>Otherwise uses <code>messageId</code> from local context</li>
                            <li>As a last resort - <code>lastMessageId</code> from user data</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>Error handling</h3>
                        <p>On deletion error:</p>
                        <ul>
                            <li>If message is too old - notification is sent</li>
                            <li>Other errors are logged to console</li>
                            <li>Action does not interrupt scenario execution</li>
                        </ul>
                    </div>

                    <h2>‚ö†Ô∏è Important notes</h2>
                    <div class="warning-card">
                        <ul>
                            <li><strong>Limitations Telegram:</strong> Cannot delete messages older than 48 hours</li>
                            <li><strong>Message ID:</strong> Must be a valid numeric ID</li>
                            <li><strong>Errors:</strong> On deletion error, action continues execution</li>
                            <li><strong>Performance:</strong> Delete happens asynchronously</li>
                        </ul>
                    </div>

                    <h2>üîó Related actions</h2>
                    <div class="related-actions">
                        <a href="#" class="nav-link" data-path="actions/send-message.html">
                            <h4>SendMessage</h4>
                            <p>Sending new messages</p>
                        </a>
                        <a href="#" class="nav-link" data-path="actions/update-message.html">
                            <h4>UpdateMessage</h4>
                            <p>Update messages</p>
                        </a>
                    </div>

                </section>
            
        </div>
    </div>
</body>
</html>